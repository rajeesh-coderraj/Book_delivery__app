"use strict";!function(e,t){var n={},a=[];n.onReady=function(e){a.push(e)},n.dispatchGlobalReady=function(){for(var e=a.length-1;e>=0;e--)a[e]();a=[],n.dispatchGlobalReady=t},function(){function n(e,n){n=n||{bubbles:!1,cancelable:!1,detail:t};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),a}n.prototype=e.Event.prototype,e.CustomEvent=n}(),n.device=function(){var e=navigator.appVersion,t=navigator.userAgent,n="-",a=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var o in a){var i=a[o];if(i.r.test(t)){n=i.s;break}}var r="-";switch(/Windows/.test(n)&&(r=/Windows (.*)/.exec(n)[1],n="Windows"),n){case"Mac OS X":r=/Mac OS X (10[\.\_\d]+)/.exec(t)[1];break;case"Android":r=/Android ([\.\_\d]+)/.exec(t)[1];break;case"iOS":r=/OS (\d+)_(\d+)_?(\d+)?/.exec(e),r=r[1]+"."+r[2]+"."+(0|r[3])}return{os:n,osVersion:r}}(),n.browser=function(){var e,t,n,a=navigator.userAgent,o=navigator.appName,i=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10);return-1!=(t=a.indexOf("Opera"))&&(o="Opera",i=a.substring(t+6),-1!=(t=a.indexOf("Version"))&&(i=a.substring(t+8))),-1!=(t=a.indexOf("OPR"))?(o="Opera",i=a.substring(t+4)):-1!=(t=a.indexOf("MSIE"))?(o="Microsoft Internet Explorer",i=a.substring(t+5)):-1!=(t=a.indexOf("Chrome"))?(o="Chrome",i=a.substring(t+7)):-1!=(t=a.indexOf("Safari"))?(o="Safari",i=a.substring(t+7),-1!=(t=a.indexOf("Version"))&&(i=a.substring(t+8))):-1!=(t=a.indexOf("Firefox"))?(o="Firefox",i=a.substring(t+8)):-1!=a.indexOf("Trident/")?(o="Microsoft Internet Explorer",i=a.substring(a.indexOf("rv:")+3)):(e=a.lastIndexOf(" ")+1)<(t=a.lastIndexOf("/"))&&(o=a.substring(e,t),i=a.substring(t+1),o.toLowerCase()==o.toUpperCase()&&(o=navigator.appName)),-1!=(n=i.indexOf(";"))&&(i=i.substring(0,n)),-1!=(n=i.indexOf(" "))&&(i=i.substring(0,n)),-1!=(n=i.indexOf(")"))&&(i=i.substring(0,n)),r=parseInt(""+i,10),isNaN(r)&&(i=""+parseFloat(navigator.appVersion),r=parseInt(navigator.appVersion,10)),{name:o,version:i}}(),n.ajax=function(){var t=function(e){var t=null;try{t=new XMLHttpRequest,"withCredentials"in t&&e&&(t.withCredentials=!0)}catch(n){console.error(n)}return t},n=function(e){var t=null;try{t=JSON.parse(e)}catch(n){t=null}return t},a=function(e){var t,n="";for(t in e)n+=t+"="+e[t]+"&";var a=n.lastIndexOf("&");return-1!==a&&(e=n.substring(0,a)),n};return function(o){var i=o.method,r=o.url,s="boolean"==typeof o.crossDomain?o.crossDomain:!1,c=o.contentType,l=o.dataType,u=o.data,f=o.timeout,d=o.success,p=o.error,h=o.headers;if("string"!=typeof i)throw new TypeError("method must be a string");if("string"!=typeof r)throw new TypeError("url must be a string");if("object"==typeof u&&(u="application/json"===c?JSON.stringify(u):a(u)),"function"!=typeof d)throw new TypeError("success must be a function");var v=t(s),g="NO_INTERNET_ACCESS";if(v){if(v.open(i,r,!0),"string"==typeof c&&v.setRequestHeader("Content-type",c),"xml"===l&&v.overrideMimeType&&v.overrideMimeType("application/xml; charset=utf-8"),"object"==typeof h){var m;for(m in h)v.setRequestHeader(m,h[m])}v.onreadystatechange=function(t){if(4===v.readyState){var a=null;"json"===l?(a=n(v.responseText),null===a&&(g="JSON_MALFORMED")):a="xml"===l?v.responseXML:v.responseText;var o=v.status.toString();"2"===o[0]?d(a,v):"function"==typeof p&&e.setTimeout(function(){p(a,g,v)},1),v=null}},"number"==typeof f&&(v.timeout=f,v.ontimeout=function(){g="TIMEOUT_EXCEEDED"}),v.send(u)}else"function"==typeof p&&(g="XMLHTTPREQUEST_UNAVAILABLE",p(g));return{cancel:function(){g="REQUEST_CANCELED",v&&v.abort()}}}}(),n.event=function(){var a=!1;("ontouchstart"in e||e.DocumentTouch&&document instanceof DocumentTouch)&&(a=!0);var o=["mousedown","mousemove","mouseup"];e.navigator.pointerEnabled?o=["pointerdown","pointermove","pointerup"]:e.navigator.msPointerEnabled&&(o=["MSPointerDown","MSPointerMove","MSPointerUp"]);var i={};i.hasTouch=a,i.start=a?"touchstart":o[0],i.move=a?"touchmove":o[1],i.end=a?"touchend":o[2],i.tap="tap";var r=document.createElement("div"),s=[{name:"transition",end:"transitionend"},{name:"MozTransition",end:"transitionend"},{name:"msTransition",end:"msTransitionEnd"},{name:"WebkitTransition",end:"webkitTransitionEnd"}],c=[{name:"animation",end:"animationend"},{name:"MozAnimation",end:"animationend"},{name:"msAnimation",end:"msAnimationEnd"},{name:"WebkitAnimation",end:"webkitAnimationEnd"}],l=null,u=null,f=s.length-1;for(f in s)if(r.style[s[f].name]!==t){l=s[f].end;break}var d=c.length-1;for(d in c)if(r.style[c[d].name]!==t){u=c[d].end;break}var p=n.device.osVersion;p.length>2&&(p=n.device.osVersion.substring(0,3)),"android"===n.device.os.toLowerCase()&&"4.1"===p&&(l="webkitTransitionEnd",u="webkitAnimationEnd"),i.transitionEnd=l,i.animationEnd=u;var h=[],v=function(){function e(e,t){this.el=e,this.callback=t,this.moved=!1,this.startX=0,this.startY=0,this.hasTouchEventOccured=!1,this.el.addEventListener(i.start,this,!1)}return e.prototype.start=function(e){"touchstart"===e.type?(this.hasTouchEventOccured=!0,this.el.addEventListener("touchmove",this,!1),this.el.addEventListener("touchend",this,!1),this.el.addEventListener("touchcancel",this,!1)):this.el.addEventListener(i.end,this,!1),this.moved=!1,this.startX="touchstart"===e.type?e.touches[0].clientX:e.clientX,this.startY="touchstart"===e.type?e.touches[0].clientY:e.clientY},e.prototype.move=function(e){(Math.abs(e.touches[0].clientX-this.startX)>10||Math.abs(e.touches[0].clientY-this.startY)>10)&&(this.moved=!0)},e.prototype.end=function(e){this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("touchcancel",this,!1),this.el.removeEventListener(i.end,this,!1),this.moved||this.callback(e)},e.prototype.cancel=function(){this.hasTouchEventOccured=!1,this.moved=!1,this.startX=0,this.startY=0},e.prototype.off=function(){this.el.removeEventListener(i.start,this,!1),this.el.removeEventListener(i.move,this,!1),this.el.removeEventListener(i.end,this,!1),this.el.removeEventListener("touchcancel",this,!1)},e.prototype.handleEvent=function(e){switch(e.type){case i.start:this.start(e);break;case"touchmove":this.move(e);break;case i.end:this.end(e);break;case"touchcancel":this.cancel(e)}},e}();return n.on=function(e,t,n,a){if(t===i.tap){var o=new v(e,n);return void h.push(o)}e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&e.attachEvent("on"+t,n,a)},e.on=document.on=HTMLElement.prototype.on=function(e,t,a){n.on(this,e,t,a)},n.off=function(e,t,n,a){if(t!==i.tap)e.removeEventListener?e.removeEventListener(t,n,a):e.attachEvent&&e.detachEvent("on"+t,n,a);else for(var o=h.length-1;o>=0;o--)if(h[o].el===e){h[o].off(),h.splice(o,1);break}},e.off=document.off=HTMLElement.prototype.off=function(e,t,a){n.off(this,e,t,a)},i}(),n.tagManager=function(){if("undefined"!=typeof riot){var e=[],t=function(t,n){t[0].tagName=n,e.push(t[0])},n=function(){return e},a=function(t,n,a){for(var o=[],i=e.length-1;i>=0;i--)if(e[i].tagName===t){o.push(n);var r=o.concat(a);e[i].trigger.apply(this,r);break}};return{addTag:t,getAll:n,trigger:a}}}(),n.options=function(e){var t=!1;"object"==typeof e.i18n&&null!==e.i18n&&(n.i18n(e.i18n),t=!0),e.navigator.useI18n=t,n.navigator(e.navigator)},n.alert=function(e,t,a,o){return n.dialog().alert(e,t,a,o)},n.confirm=function(e,t,a,o,i){return n.dialog().confirm(e,t,a,o,i)},n.prompt=function(e,t,a,o,i){return n.dialog().prompt(e,t,a,o,i)},n.indicator=function(e,t){return n.dialog().indicator(e,t)},n.updateLocale=function(e){var t="undefined"!=typeof riot?!0:!1;n.i18n().setPreference(e).getAll(function(e){if(t){for(var a=n.tagManager.getAll(),o=a.length-1;o>=0;o--)a[o].i18n=e;riot.update()}else n.i18n().bind()})},e.phonon=n,"object"==typeof exports?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return e.phonon=n})}("undefined"!=typeof window?window:this),function(e,t){function n(e){if(u.initCalled)throw new Error("The i18n module has already been instantiated");"string"==typeof e.directory&&(e.directory=-1!==e.directory.indexOf("/",e.directory.length-"/".length)?e.directory:e.directory+"/");var t;for(t in e)u[t]=e[t];u.initCalled=!0}function a(e){if(!u.initCalled)throw new Error("Please, initialize The i18n module using the init method");if("function"!=typeof e)throw new Error("callback must be a function");if(null!==l)return void e(l);var t=new XMLHttpRequest,n=u.localePreferred?u.localePreferred:u.localeFallback;t.open("GET",u.directory+n+".json",!0),t.overrideMimeType&&t.overrideMimeType("application/json; charset=utf-8"),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status)l=JSON.parse(t.responseText),e(JSON.parse(t.responseText));else{if(!u.localePreferred)throw new Error("The default locale ["+u.directory+u.localeFallback+".json] file is not found");u.localePreferred=null,console.log("The language ["+n+"] is not available, loading "+u.localeFallback),a(function(t){l=t,e(t)})}},t.send("")}function o(e,t){if("string"!=typeof e&&!(e instanceof Array))throw new Error("key must be a string or an array");var n=e instanceof Array?!0:!1;if(null===l)a(function(a){if(n){for(var o=e.length,i=o-1,r={};i>=0;i--)r[e[i]]=a[e[i]];t(r)}else t(a[e])});else if(n){for(var o=e.length,i=o-1,r={};i>=0;i--)r[e[i]]=l[e[i]];t(r)}else t(l[e])}function i(e,n){var o=e||t,i=n;if(1===arguments.length&&"function"==typeof e&&(o=t,i=e),!f(o))throw new TypeError("Not valid element object "+o);var r=o.querySelectorAll("[data-i18n]");null===l?a(function(e){v(r,e),"function"==typeof i&&i()}):(v(r,l),"function"==typeof i&&i())}function r(e){if("string"!=typeof e)throw new Error("The language must be a string");return u.localePreferred=e,l=null,g}function s(){return u.localePreferred}function c(){return e.navigator.userLanguage||e.navigator.language}var l=null,u={localeFallback:null,localePreferred:e.navigator.userLanguage||e.navigator.language,directory:"./",initCalled:!1},f=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},d=function(e,t){"textContent"in e?e.textContent=t:e.innerText=t},p=function(e,t){e.value=t},h=function(e,t){e.setAttribute("placeholder",t)},v=function(e,t){for(var n=e.length-1;n>=0;n--)for(var a,o=e[n],i=o.getAttribute("data-i18n").trim(),r=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;a=r.exec(i);){var s=a[1].trim(),c=a[2].trim().replace(",","");if(void 0!==t[c])if("text"===s)d(o,t[c]);else if("value"===s)p(o,t[c]);else{if("placeholder"!==s)throw new Error("The property: "+s+" is unknown");h(o,t[c])}else console.error("The value: "+c+" does not exist in the JSON file")}},g={};g.init=n,g.getAll=a,g.get=o,g.bind=i,g.setPreference=r,g.getPreference=s,g.getLocale=c,phonon.i18n=function(e){return"object"==typeof e&&n(e),{getAll:function(e){return a(e),this},get:function(e,t){return o(e,t),this},bind:function(e,t){return i(e,t),this},setPreference:function(e){return r(e),this},getPreference:function(){return s()},getLocale:function(){return c()}}}}(window,document),function(e,t,n){function a(){if(D.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("left"),e.off(n.event.animationEnd,a,!1),e.classList.remove("app-active")}s(O),c(S),M=!1}function o(){if(D.animatePages){var e=this;e.classList.remove("page-sliding"),e.classList.remove("right"),e.off(n.event.animationEnd,o,!1),e.classList.remove("app-active")}s(O),c(S),M=!1}function i(t){A&&n.tagManager.trigger(t,"create");var a=R(t),o=new e.CustomEvent("pagecreated",{detail:{page:t},bubbles:!0,cancelable:!0});document.dispatchEvent(o),a.activity instanceof H&&"function"==typeof a.activity.onCreateCallback&&a.activity.onCreateCallback()}function r(t){var a=R(t);e.setTimeout(function(){A&&n.tagManager.trigger(t,"ready");var o=new e.CustomEvent("pageopened",{detail:{page:t},bubbles:!0,cancelable:!0});document.dispatchEvent(o),a.activity instanceof H&&"function"==typeof a.activity.onReadyCallback&&a.activity.onReadyCallback()},a.readyDelay)}function s(e){A&&n.tagManager.trigger(e,"transitionend");var t=R(e);t.activity instanceof H&&"function"==typeof t.activity.onTransitionEndCallback&&t.activity.onTransitionEndCallback()}function c(e){A&&n.tagManager.trigger(e,"hidden");var t=R(e);t.activity instanceof H&&"function"==typeof t.activity.onHiddenCallback&&t.activity.onHiddenCallback()}function l(e,t){A&&n.tagManager.trigger(e,"tabchanged",t);var a=R(e);a.activity instanceof H&&"function"==typeof a.activity.onTabChangedCallback&&a.activity.onTabChangedCallback(t)}function u(t,a,o){function i(){var t=e.location.hash.split("#")[1];t!==o&&D.useHash?e.location.hash=o:k(o)}if(!g()){var r=R(t);if(!r.async)return void i(!0);var s={close:i};if(A&&n.tagManager.trigger(t,"close",s),r.activity instanceof H&&"function"==typeof r.activity.onCloseCallback)r.activity.onCloseCallback(s);else if(!A)throw new Error("The page "+r.name+" prevents close, but its callback (onClose) is undefined")}}function f(e,t){if("undefined"!=typeof t){A&&n.tagManager.trigger(e,"hashchanged",t);var a=R(e);a.activity instanceof H&&"function"==typeof a.activity.onHashChangedCallback&&a.activity.onHashChangedCallback(t)}}function d(e,t){"tabchanged"===e&&l(t.page,t.tabNumber)}function p(e,a){if(A&&t.compile(function(){D.useI18n?n.i18n().getAll(function(o){n.tagManager.addTag(t.mount(e,{i18n:o}),e),a()}):(n.tagManager.addTag(t.mount(e,{i18n:null}),e),a())}),!A){var o=R(e);null!==o.content?h(o.content,function(t){var i=X(e),r=document.createElement("div");r.innerHTML=t;var s=r.querySelector(e);if(null===s)throw new Error("Error with "+o.content+" : the template for "+e+" must start with the parent node <"+e+' class="app-page">');for(var c=s.attributes,l=c.length-1;l>=0;l--){var u=c.item(l);"class"!==u.nodeName&&"app-page"!==u.nodeValue&&i.setAttribute(u.nodeName,u.nodeValue)}D.useI18n?n.i18n().bind(s,function(){i.innerHTML=s.innerHTML,a()}):(i.innerHTML=s.innerHTML,a())}):a()}}function h(e,t){var n=new XMLHttpRequest;n.overrideMimeType&&n.overrideMimeType("text/html; charset=utf-8"),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||!n.status&&n.responseText.length)&&t(n.responseText,D,e)},n.open("GET",D.templateRootDirectory+e,!0),n.send("")}function v(e){var t={name:e,mounted:!1,async:!1,activity:null,content:null,readyDelay:1};x.push(t)}function g(){return"undefined"!=typeof n.dialog&&n.dialog().closeActive()?!0:"undefined"!=typeof n.popover&&n.popover().closeActive()?!0:"undefined"!=typeof n.panel&&n.panel().closeActive()?!0:"undefined"!=typeof n.sidePanel&&n.sidePanel().closeActive()?!0:!1}function m(){var e={page:D.defaultPage,params:""};if(L.length>0){for(var t=-1,n=L.length-1;n>=0;n--)if(L[n].page===O){t=n-1;break}t>-1&&(e=L[t],L.slice(t,1))}return e}function y(e){N=!0;for(var t=e.target,n=null,a=!1,o="";t&&t!==document;t=t.parentNode){var i=t.getAttribute("data-navigation");if("undefined"!=typeof t.href&&-1!==t.href.indexOf("#!")){a=!0;break}if(i){n=i;break}}if((!a||!D.useHash)&&(null!==n||a)){var r=D.defaultPage;if(null!==n)if("$previous-page"===n){var s=m();r=s.page,o=s.params}else r=n;else{var c=t.href.match("/#"+D.hashPrefix+"([A-Za-z0-9-.]+)?(.*)/");c&&(r=c[1],o=c[2])}var l=D.hashPrefix+r;""!==o&&(l=l+"/"+o,l=l.replace("//","/")),u(O,r,l)}}function b(e,t){var i=X(e),r=X(t);r.classList.add("app-active"),D.animatePages?(i.classList.add("page-sliding"),W?(i.classList.add("left"),i.on(n.event.animationEnd,a,!1)):(i.classList.add("right"),i.on(n.event.animationEnd,o,!1))):(i.classList.remove("app-active"),W?a():o());for(var s=r.querySelectorAll(".content"),c=s.length-1;c>=0;c--){var l=s[c];null!==l&&0!==l.scrollTop&&(l.scrollTop=0)}t===D.defaultPage&&(L=[])}function w(e,t){if(M&&"function"==typeof t)return t();var a=R(e);P&&(M=!0,S=O,O=e),a.mounted?(r(e),b(S,e),"function"==typeof t&&t()):p(a.name,function(){if(a.mounted=!0,i(e),r(e),P||n.dispatchGlobalReady(),P&&b(S,e),!P){P=!0;var o=X(e);o.classList.contains("app-active")||o.classList.add("app-active")}"function"==typeof t&&t()})}function E(e){"string"==typeof e.templateRootDirectory&&""!==e.templateRootDirectory&&(e.templateRootDirectory=-1!==e.templateRootDirectory.indexOf("/",e.templateRootDirectory.length-"/".length)?e.templateRootDirectory:e.templateRootDirectory+"/"),"object"==typeof e.hashPrefix&&(e.hashPrefix="");var t;for(t in e)D[t]=e[t];D.enableBrowserBackButton&&(N=!0);for(var n=document.querySelectorAll("[data-page]"),a=n.length-1;a>=0;a--){var o=n[a];o.classList.contains("app-page")||o.classList.add("app-page"),v(o.tagName.toLowerCase())}}function T(){if(P)throw new Error("The app has been already started");var e=n.device.os.toLowerCase(),t="web";"android"===e?t="android":"ios"===e&&(t="ios"),document.body.classList.contains(t)||document.body.classList.add(t),k()}function C(t,n){var a=R(O),o=R(t);if(!o)throw new Error("The following page: "+t+" does not exists");var i="string"==typeof n?D.hashPrefix+o.name+"/"+n:D.hashPrefix+o.name;if(a.async)u(O,o.name,i);else{var r=e.location.hash.split("/");-1===r[0].indexOf(o.name)&&D.useHash&&(e.location.hash=i)}}function k(t){var n,a="string"==typeof t?t:e.location.href.split("#")[1]||"",o=a.split("/"),i=o.slice(1,o.length),r=o[0],s=D.hashPrefix.indexOf("/");-1!==s?(r="undefined"==typeof o[1]?"":o[1],i=o.slice(2,o.length),n=r.substring(s+1,r.length)):n=r.substring(D.hashPrefix.length,r.length);var c=R(n);if(P||c)!P&&c&&(O=c.name);else if(O=D.defaultPage,c=R(D.defaultPage),D.useHash)return void(e.location.hash=D.hashPrefix+D.defaultPage);if(c){if(g(),c.name===O&&P)return void f(c.name,i);if(P&&!N)return;for(var l=!1,u=L.length-1;u>=0;u--)if(L[u].page===c.name){l=!0;break}if(L.length>0?c.name===D.defaultPage&&(W=!1):W=!0,L.length>1&&L[L.length-2].page===c.name&&(W=!1),!l){var d=i.join("/");L.push({page:c.name,params:d})}"function"!=typeof c.callback||c.mounted||c.callback(c.activity),c.mounted?(w(c.name),f(c.name,i)):w(c.name,function(){f(c.name,i)}),D.enableBrowserBackButton||(N=!1)}}var x=[],L=[],P=!1,M=!1,O=null,S=null,W=!0,N=!1,A=void 0===t?!1:!0,D={defaultPage:null,hashPrefix:"!",animatePages:!0,templateRootDirectory:"",useI18n:!0,enableBrowserBackButton:!1,useHash:!0},H=function(){function e(){}return e.prototype.onCreate=function(e){this.onCreateCallback=e},e.prototype.onReady=function(e){this.onReadyCallback=e},e.prototype.onClose=function(e){this.onCloseCallback=function(t){e(t)}},e.prototype.onHidden=function(e){this.onHiddenCallback=e},e.prototype.onTransitionEnd=function(e){this.onTransitionEndCallback=e},e.prototype.onHashChanged=function(e){this.onHashChangedCallback=function(t){e.apply(this,t)}},e.prototype.onTabChanged=function(e){this.onTabChangedCallback=function(t){e(t)}},e}(),R=function(e){for(var t=null,n=x.length-1;n>=0;n--)if(x[n].name===e){t=x[n];break}return t},X=function(e){for(var t=document.querySelectorAll("[data-page]"),n=t.length-1,a=null;n>=0;n--)if(t[n].tagName.toLowerCase()===e){a=t[n];break}return a};document.on("tap",y),D.useHash&&e.on("hashchange",k),document.on("backbutton",function(){var e=m();O!==D.defaultPage&&u(O,e.page,D.hashPrefix+e.page+"/"+e.params)}),n.navigator=function(t){return"object"==typeof t&&E(t),{currentPage:O,previousPage:S,start:T,changePage:function(t,n){N=!0;var a=g()?400:1;e.setTimeout(function(){C(t,n)},a)},on:function(e,t){if("string"!=typeof e.page)throw new Error("Page name must be a string");if("undefined"!=typeof e.preventClose&&"boolean"!=typeof e.preventClose)throw new Error("preventClose option must be a boolean");if("undefined"!=typeof e.readyDelay&&"number"!=typeof e.readyDelay)throw new Error("readyDelay option must be a number");var n=R(e.page);if(!n)throw new Error("A namespace for  "+e.page+" is detected, but the DOM node <"+e.page+"> is not found.");n.activity="function"==typeof t?new H:null,n.callback=t,n.async="boolean"==typeof e.preventClose?e.preventClose:!1,n.content="string"==typeof e.content?e.content:null,n.readyDelay="number"==typeof e.readyDelay?e.readyDelay:1},callCallback:d}}}("undefined"!=typeof window?window:this,"undefined"!=typeof riot?riot:void 0,phonon);